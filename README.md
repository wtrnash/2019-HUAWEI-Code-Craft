# 2019-HUAWEI-Code-Craft
2019华为软件精英挑战赛初复赛阶段代码

团队名：浙大棋皇

成绩：初赛阶段杭厦赛区 22名

复赛阶段杭厦赛区 14名

## 初赛

[赛题介绍](<https://codecraft.huawei.com/Generaldetail>)

车辆规划问题，给出了道路、路口及车辆的相关信息，考虑堵车的情况下，使得所有车辆调度时间最短

我主要负责在寻路算法的基础上做发车逻辑，也就是调参工作，另外两个队友来做调度器以实现动态规划。然而最后调度器的效果没有调参好，所以初赛复赛实际上用的都是在我代码的基础上完成的。

初赛训练阶段成绩达到了933，正式阶段成绩达到了3879，以杭厦赛区第22名晋级复赛。初赛训练阶段最后和正式阶段采用的思想比较类似，使用寻路算法，只是根据道路状况寻路时道路会赋予不同的权值。然后尝试了多种的发车逻辑，选取效果比较好的那种。初赛的具体流程可以见初赛阶段的[README.md](初赛README.md) 初赛正式阶段改动只是地图规模变大了，车辆数量增多了。由于我的代码是Python写的，由于车辆数量的增多，运行时间超过赛事要求，所以让队友用Java复现了一下，整体逻辑还是类似，只是我的寻路算法是迪杰斯特拉，他的算法是A*。最后还是通过我的调参完成了初赛正式阶段。

## 复赛

复赛在初赛的基础上增加了预置车辆和优先车辆，预置车辆已经规划好出发时间和路线，优先车辆在道路上有优先级，并且考虑总成绩有一部分权重是优先车辆的调度时间。所以很容易的想法是让预置车辆跑完，优先车辆先跑，然后再是普通车辆跑。还是根据初赛设置的权值来进行寻路，然后预置车辆跑时也尽量能插入优先车辆跑。优先车辆和普通车辆分别根据速度由高到低排序，然后也设置了每个路口同时发车的数量不超过3辆，复赛训练阶段成绩达到了7371。发车逻辑是开始时车发的比较少，然后逐渐增多直到最后，这样比匀速发车和降序发车效果都要好。

复赛正式阶段加了可以调整10%预置车辆的规则。然而由于比赛时间只有2个半小时，我花的所有时间都在调参用来拟合正式地图，所以最后也没用到这个规则。复赛正式阶段的地图比较简单，预置车辆发的时候可以插入非常多的车，我这边设置了预置车辆发车时如果当前时间发车数量小于某个权值，我这边就可以发优先车辆。其他逻辑都和复赛训练阶段类似。最后成绩是5023，杭厦赛区第14名。可惜在队友的调度器效果不好，没有用上。然后我这边的发车逻辑考虑了速度、同时间地点发车数量、速度相同时纯路径短的先发车等思路。在寻路的权值调整下应该可以再多花些功夫。

